# SQL Glider Configuration File
#
# Place this file as 'sqlglider.toml' in your project directory.
# CLI arguments will override these settings.
#
# Copy this file: cp sqlglider.toml.example sqlglider.toml

[sqlglider]

# SQL dialect for parsing queries
# Options: spark, postgres, snowflake, bigquery, mysql, tsql, oracle, presto, trino, redshift, etc.
# Default: "spark"
# dialect = "postgres"

# Analysis level
# Options: "column", "table"
# Default: "column"
# level = "column"

# Output format
# Options: "text", "json", "csv"
# Default: "text"
# output_format = "json"

# Templater for SQL preprocessing
# Options: "jinja", "none", or custom registered templaters
# Default: None (no templating)
# templater = "jinja"

# ============================================================================
# Templating Configuration
# ============================================================================

# The [sqlglider.templating] section configures template variable sources.
# Variables can come from: CLI args, vars file, config file, or environment.
# Priority order (highest to lowest): CLI > vars file > config > environment

# [sqlglider.templating]
# Default variables file (JSON or YAML)
# variables_file = "vars.json"

# Inline variables (lower priority than file)
# [sqlglider.templating.variables]
# schema = "analytics"
# environment = "production"

# ============================================================================
# Example Configurations
# ============================================================================

# Example 1: PostgreSQL project with JSON output
# [sqlglider]
# dialect = "postgres"
# output_format = "json"

# Example 2: Snowflake project with table-level lineage
# [sqlglider]
# dialect = "snowflake"
# level = "table"

# Example 3: BigQuery project with CSV output
# [sqlglider]
# dialect = "bigquery"
# output_format = "csv"

# Example 4: Jinja templating with default variables
# [sqlglider]
# dialect = "spark"
# templater = "jinja"
# [sqlglider.templating]
# variables_file = "vars.json"
# [sqlglider.templating.variables]
# schema = "default_schema"
# environment = "dev"

# ============================================================================
# Usage
# ============================================================================
#
# With config file:
#   uv run sqlglider lineage query.sql
#   (uses dialect and output_format from config)
#
# Override config with CLI args:
#   uv run sqlglider lineage query.sql --dialect snowflake --output-format text
#   (CLI args take precedence over config)
#
# Without config file:
#   (Uses defaults: spark dialect, column level, text format)
#
# Templating:
#   uv run sqlglider template query.sql --var schema=analytics --var table=users
#   uv run sqlglider lineage query.sql --templater jinja --var schema=prod
